(function(){$.fn.handleCounter=function(n){var d,a,b,j,i,p,k,m,l;var c=this;a=c.find(".counter-minus");d=c.find("input");b=c.find(".counter-plus");var f={writable:true,minimum:1,maximize:null,onChange:function(){},onMinimum:function(){},onMaximize:function(){}};var o=$.extend({},f,n);j=o.minimum;i=o.maximize;p=o.writable;k=o.onChange;m=o.onMinimum;l=o.onMaximize;if(!$.isNumeric(j)){j=f.minimum}if(!$.isNumeric(i)){i=f.maximize}var g=d.val();if(isNaN(parseInt(g))){g=d.val(0).val()}if(!p){d.prop("disabled",true)}e(g);d.val(g);a.click(function(){var q=parseInt(d.val());if(q>j){d.val(q-1);e(q-1)}});b.click(function(){var q=parseInt(d.val());if(i==null||q<i){d.val(q+1);e(q+1)}});var h;d.keyup(function(){clearTimeout(h);h=setTimeout(function(){var q=d.val();if(q==""){q=j;d.val(j)}var r=new RegExp("^[\\d]*$");if(isNaN(parseInt(q))||!r.test(q)){d.val(d.attr("data-num"));e(d.attr("data-num"))}else{if(q<j){d.val(j);e(j)}else{if(i!=null&&q>i){d.val(i);e(i)}else{e(q)}}}},300)});d.focus(function(){var q=d.val();if(q==0){d.select()}});function e(q){d.attr("data-num",q);a.prop("disabled",false);b.prop("disabled",false);if(q<=j){a.prop("disabled",true);m.call(this,q)}else{if(i!=null&&q>=i){b.prop("disabled",true);l.call(this,q)}}k.call(this,q)}return c}})(jQuery);$(function(a){var b={minimum:1,maximize:10,onChange:valChanged,onMinimum:function(c){console.log("reached minimum: "+c)},onMaximize:function(c){console.log("reached maximize"+c)}};a("#handleCounter").handleCounter(b);a("#handleCounter2").handleCounter(b);a("#handleCounter3").handleCounter({maximize:100});a("#handleCounter4").handleCounter({maximize:100});a("#handleCounter5").handleCounter({maximize:100});a("#handleCounter6").handleCounter({maximize:100})});function valChanged(a){};